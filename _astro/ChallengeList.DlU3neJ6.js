import{i as le,a as F}from"./props.Bj6o9DXP.js";import{o as ne}from"./index-client.DbL1ygyQ.js";import{p as ie,s as G,f as p,a as f,b as ce,m as H,g as t,c as v,d as l,r,t as O,e as j}from"./template.DA8Zrd-d.js";import{s as _}from"./render.BJRwOoAD.js";import{e as I,i as J}from"./each.Bk1PdW2q.js";import{e as de}from"./utils.D8_OE2hv.js";import{s as K,a as ve}from"./attributes.BwuaZUqp.js";import{r as fe}from"./misc.MND2cBUC.js";import{g as pe,s as ge}from"./ctfd.svelte.CUWNQAoX.js";import{P as me,a as xe}from"./PixelarticonsFlag.p-I9-ccb.js";import{P as _e}from"./PixelarticonsZap.D7zH3Qhp.js";/* empty css                          */import"./router.DnZMHVsn.js";var a=fe(()=>ge),ue=p('<p class="text-red-500"> </p>'),he=p("<p>Loading challenges...</p>"),ye=p('<button><span class="flex flex-row gap-2 items-center font-mono"><!> </span> <div class="flex flex-row gap-4 font-mono text-left"><span class="flex flex-row items-center gap-2 min-w-[7ch]"><!> </span> <span class="flex flex-row items-center gap-2 min-w-[7ch]"><!> </span></div></button>'),we=p('<div><h2 class="font-display-mono font-bold text-4xl flex items-center gap-3"><div class="w-4 h-4 rounded-full flex-shrink-0 ring-1 ring-black"></div> </h2> <div class="text-lg"></div></div>'),Ce=p('<div class="flex flex-col gap-4"></div>'),be=p("<p>Loading challenges...</p>"),ke=p('<div class="flex flex-col select-none w-full p-4 md:max-w-prose md:w-full transition-transform duration-150 origin-left"><h1 class="font-display-mono font-bold text-5xl uppercase">Planets</h1> <!></div>');function Se(N,Q){ie(Q,!1);let T=H(!0),w=H(null);ne(async()=>{const n=await pe();await a().ctfd.challenges.getChallengeList({},{headers:{"CSRF-Token":n}}).then(s=>{if(s.ok&&s.data.success){const h=s.data.data.reduce((e,o)=>{const c=o.category||"Uncategorized";return e[c]||(e[c]=[]),e[c].push(o),e},{}),i=Object.keys(h).sort((e,o)=>{const c=["pwn","rev","crypto","osint","web","misc"];return c.indexOf(e.toLowerCase())-c.indexOf(o.toLowerCase())});a(a().challengesByCategory=i.reduce((e,o)=>(e[o]=h[o],e),{}))}else console.error("Failed to load challenges... unknown error."),a(a().challengesByCategory={})}).catch(s=>{console.error("Error loading challenges:",s),G(w,"Failed to load challenges. Please try again later.")}),G(T,!1)}),le();var C=ke(),V=v(l(C),2);{var W=n=>{var s=ue(),u=l(s,!0);r(s),O(()=>_(u,t(w))),f(n,s)},X=(n,s)=>{{var u=i=>{var e=he();f(i,e)},h=(i,e)=>{{var o=g=>{var m=Ce();I(m,5,()=>Object.entries(a().challengesByCategory),J,(Y,z)=>{let b=()=>t(z)[0],$=()=>t(z)[1];var y=we();let U;var k=l(y),q=l(k),ee=v(q);r(k);var E=v(k,2);I(E,5,$,J,(L,d)=>{var x=ye();let M;var P=l(x),R=l(P);const ae=j(()=>t(d).solved_by_me?"opacity-100":"opacity-0");me(R,{get class(){return t(ae)}});var te=v(R);r(P);var S=v(P,2),B=l(S),Z=l(B);_e(Z,{});var se=v(Z);r(B);var A=v(B,2),D=l(A);xe(D,{});var re=v(D);r(A),r(S),r(x),O(oe=>{M=K(x,1,"flex flex-row w-full justify-between cursor-pointer hover:text-surface-000 hover:bg-text svelte-1f8a8oz",null,M,oe),_(te,` ${t(d).name??""}`),_(se,` ${t(d).value??""}`),_(re,` ${t(d).solves??""}`)},[()=>({active:a().selectedChallenge&&a().selectedChallenge.id===t(d).id})],j),de("click",x,()=>a(a().selectedChallenge=t(d))),f(L,x)}),r(E),r(y),O((L,d)=>{U=K(y,1,"",null,U,L),ve(q,`background-color: var(--color-category-${d??""})`),_(ee,` ${b()??""}`)},[()=>({hidden:a().selectedCategory&&a().selectedCategory!==b()}),()=>b().toLowerCase()],j),f(Y,y)}),r(m),f(g,m)},c=g=>{var m=be();f(g,m)};F(i,g=>{a().challengesByCategory?g(o):g(c,!1)},e)}};F(n,i=>{t(T)?i(u):i(h,!1)},s)}};F(V,n=>{t(w)?n(W):n(X,!1)})}r(C),f(N,C),ce()}export{Se as default};
