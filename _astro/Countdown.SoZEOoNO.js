import{p as u,i as q,a as M}from"./props.Bj6o9DXP.js";import{o as y,a as R}from"./index-client.DbL1ygyQ.js";import{p as j,s as c,x as z,q as A,a as d,b as B,m as x,f as E,g as r,d as b,r as D,t as F}from"./template.DA8Zrd-d.js";import{s as G}from"./render.BJRwOoAD.js";import{S as J}from"./SvgSpinners270Ring.BZVWEM-c.js";import"./utils.D8_OE2hv.js";import"./attributes.BwuaZUqp.js";var K=E("<div><span>Ended</span></div>"),L=E('<div><div class="countdown"> </div></div>');function Y(I,n){j(n,!1);let p=u(n,"start",8),g=u(n,"end",8),i=u(n,"isEventOver",12),a=x({hours:"00",minutes:"00",seconds:"00"}),h=x(!1),o;function l(t){return t.toString().padStart(2,"0")}function _(){const t=new Date;if(t<p()){const e=p().getTime()-t.getTime();w(e)}else if(t<g()){const e=g().getTime()-t.getTime();w(e)}else i(!0),c(a,{hours:"00",minutes:"00",seconds:"00"}),o&&clearInterval(o)}function w(t){t<0&&(t=0);const e=Math.floor(t/(1e3*60*60)),m=Math.floor(t%(1e3*60*60)/(1e3*60)),v=Math.floor(t%(1e3*60)/1e3);c(a,{hours:l(e),minutes:l(m),seconds:l(v)})}y(()=>{i()||(c(h,!0),_(),o=setInterval(_,1e3))}),R(()=>{o&&clearInterval(o)}),q();var S=z(),C=A(S);{var H=t=>{var e=K();d(t,e)},O=(t,e)=>{{var m=s=>{J(s,{})},v=s=>{var f=L(),T=b(f),k=b(T);D(T),D(f),F(()=>G(k,`${r(a).hours??""}H ${r(a).minutes??""}M ${r(a).seconds??""}S`)),d(s,f)};M(t,s=>{r(h)?s(v,!1):s(m)},e)}};M(C,t=>{i()?t(H):t(O,!1)})}d(I,S),B()}export{Y as default};
