import{l as Z,i as pt,a as y}from"./props.Cnc7M2bm.js";import{o as bt}from"./index-client.qxHWBHhE.js";import{o as tt,t as w,b as d,p as ut,e as p,d as mt,s as f,m as S,g as t,h as v,i as s,x as I,r as e,f as U,c as xt,j as gt}from"./template.BGKbqTa9.js";import{s as V}from"./render.92hFe8tD.js";import{e as X,i as ht}from"./each.C28cXzkQ.js";import{b as et,c as Y,s as _t}from"./attributes.BncxncTT.js";import{e as N}from"./utils.D9RhwMV2.js";import{s as yt}from"./event-modifiers.CdEA5IGF.js";import{b as wt}from"./misc.CGvc10bl.js";import{s as $t}from"./ctfd.svelte.CqsomuiX.js";import{P as zt}from"./PixelarticonsGroup.DK7ZY9T3.js";import{P as kt}from"./PixelarticonsExternalLink.D30IX11u.js";import{S as Pt}from"./SvgSpinners270Ring.DBi1DYLx.js";import"./router.DnZMHVsn.js";var Mt=tt('<svg><path fill="currentColor" d="M16 5v2h-2V5zm-4 4V7h2v2zm-2 2V9h2v2zm0 2H8v-2h2zm2 2v-2h-2v2zm0 0h2v2h-2zm4 4v-2h-2v2z"></path></svg>');function Ct(F,M){const b=Z(M,["children","$$slots","$$events","$$legacy"]);var a=Mt();let c;w(()=>c=et(a,c,{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",...b})),d(F,a)}var Vt=tt('<svg><path fill="currentColor" d="M8 5v2h2V5zm4 4V7h-2v2zm2 2V9h-2v2zm0 2h2v-2h-2zm-2 2v-2h2v2zm0 0h-2v2h2zm-4 4v-2h2v2z"></path></svg>');function Ft(F,M){const b=Z(M,["children","$$slots","$$events","$$legacy"]);var a=Vt();let c;w(()=>c=et(a,c,{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",...b})),d(F,a)}var Lt=p('<div class="flex items-center justify-center gap-4 py-12 text-text"><!> <span>Loading teams...</span></div>'),Tt=p('<div class="text-center p-8 bg-red-700 text-text"><p class="mb-4"> </p> <button class="px-4 py-2 bg-white text-surface-000 hover:bg-gray-400 transition-colors">Retry</button></div>'),jt=p('<span class="font-mono bg-surface-200 px-2 py-1 text-xs"> </span>'),St=p('<span class="text-surface-300">—</span>'),Nt=p('<a target="_blank" rel="noopener noreferrer" class="inline-flex flex-row items-center gap-2 text-text hover:bg-text hover:text-surface-000"><span>Website</span> <!></a>'),Rt=p('<span class="text-surface-300">—</span>'),qt=p('<tr class="hover:bg-surface-200 transition-colors"><td class="px-4 py-3 border-b border-surface-300 w-20"><!></td><td class="px-4 py-3 border-b border-surface-300 min-w-[150px]"><a class="text-text hover:underline font-bold"> </a></td><td class="px-4 py-3 border-b border-surface-300 text-text"> </td><td class="px-4 py-3 border-b border-surface-300"><!></td></tr>'),At=p("<button> </button>"),Bt=p('<div class="flex flex-col sm:flex-row justify-between items-center mt-8 gap-4"><div class="text-text text-sm"> </div> <div class="flex items-center gap-2"><button class="flex items-center gap-1 px-3 py-2 bg-surface-100 hover:bg-surface-200 disabled:opacity-50 disabled:cursor-not-allowed text-text border border-surface-300 transition-all"><!> Previous</button> <div class="flex gap-1"></div> <button class="flex items-center gap-1 px-3 py-2 bg-surface-100 hover:bg-surface-200 disabled:opacity-50 disabled:cursor-not-allowed text-text border border-surface-300 transition-all">Next <!></button></div></div>'),Et=p('<div class="overflow-x-auto bg-surface-100/50 backdrop-blur-md border border-surface-300"><table class="w-full border-collapse"><thead><tr class="bg-surface-200"><th class="px-4 py-3 text-left font-semibold text-text border-b border-surface-300 sticky top-0 bg-surface-200/50">Country</th><th class="px-4 py-3 text-left font-semibold text-text border-b border-surface-300 sticky top-0 bg-surface-200/50">Crew Name</th><th class="px-4 py-3 text-left font-semibold text-text border-b border-surface-300 sticky top-0 bg-surface-200/50">Affiliation</th><th class="px-4 py-3 text-left font-semibold text-text border-b border-surface-300 sticky top-0 bg-surface-200/50">Website</th></tr></thead><tbody></tbody></table></div> <!>',1),Wt=p('<div class="text-center py-16 text-text"><div class="mb-4"><!></div> <h3 class="text-xl font-semibold mb-2 text-text">No teams found</h3> <p>Try adjusting your search criteria or filters.</p></div>'),Gt=p('<div class="font-mono"><div class="mb-8"></div> <!> <!> <!> <!></div>');function se(F,M){ut(M,!1);let b=S(null),a=S(null),c=S(!0),L=S(null),m=S(1),at="",Ht="name",rt="",st="";async function A(r=1){f(c,!0),f(L,null);try{const i={};i.page=r;const n=await $t.ctfd.teams.getTeamList(i);n.ok&&n.data?(f(b,n.data.data),f(a,n.data.meta),f(m,r)):(f(L,"Failed to load teams"),f(b,null),f(a,null))}catch(i){f(L,"Failed to load teams"),f(b,null),f(a,null),console.error("Error loading teams:",i)}finally{f(c,!1)}}async function B(r){r>=1&&t(a)&&r<=t(a).pagination.pages&&await A(r)}bt(()=>{A()}),pt();var E=Gt(),J=v(s(E),2);{var ot=r=>{var i=Lt(),n=s(i);Pt(n,{}),I(2),e(i),d(r,i)};y(J,r=>{t(c)&&r(ot)})}var K=v(J,2);{var it=r=>{var i=Tt(),n=s(i),C=s(n,!0);e(n);var R=v(n,2);e(i),w(()=>V(C,t(L))),N("click",R,()=>A(t(m))),d(r,i)};y(K,r=>{t(L)&&r(it)})}var O=v(K,2);{var nt=r=>{var i=Et(),n=U(i),C=s(n),R=v(s(C));X(R,5,()=>t(b),$=>$.id,($,u)=>{var z=qt(),T=s(z),q=s(T);{var k=o=>{var l=jt(),D=s(l,!0);e(l),w(()=>V(D,t(u).country)),d(o,l)},W=o=>{var l=St();d(o,l)};y(q,o=>{t(u).country?o(k):o(W,!1)})}e(T);var P=v(T),x=s(P),G=s(x,!0);e(x),e(P);var g=v(P),h=s(g,!0);e(g);var _=v(g),H=s(_);{var Q=o=>{var l=Nt(),D=v(s(l),2);kt(D,{}),e(l),w(()=>Y(l,"href",t(u).website)),N("click",l,yt(function(ft){wt.call(this,M,ft)})),d(o,l)},j=o=>{var l=Rt();d(o,l)};y(H,o=>{t(u).website?o(Q):o(j,!1)})}e(_),e(z),w(()=>{Y(x,"href",`/fleet/team?team_id=${t(u).id??""}`),V(G,t(u).name),V(h,t(u).affiliation||"—")}),d($,z)}),e(R),e(C),e(n);var dt=v(n,2);{var ct=$=>{var u=Bt(),z=s(u),T=s(z);e(z);var q=v(z,2),k=s(q),W=s(k);Ct(W,{}),I(),e(k);var P=v(k,2);X(P,5,()=>Array.from({length:Math.min(5,t(a)?.pagination.pages||0)},(g,h)=>{const _=Math.max(1,t(m)-2);return Math.min(t(a)?.pagination.pages||0,_+4),_+h}),ht,(g,h)=>{var _=xt(),H=U(_);{var Q=j=>{var o=At(),l=s(o,!0);e(o),w(()=>{o.disabled=t(c),_t(o,1,`px-3 py-2 border border-surface-300 transition-all ${t(h)===t(m)?"bg-white border-white text-surface-000":"bg-surface-100 hover:bg-surface-200 text-text"}`),V(l,t(h))}),N("click",o,()=>B(t(h))),d(j,o)};y(H,j=>{t(h)<=(t(a)?.pagination.pages||0)&&j(Q)})}d(g,_)}),e(P);var x=v(P,2),G=v(s(x));Ft(G,{}),e(x),e(q),e(u),w(g=>{V(T,`Showing ${((t(a)?.pagination.page||1)-1)*(t(a)?.pagination.per_page||0)+1} - 
          ${g??""} 
          of ${(t(a)?.pagination.total||0)??""} teams`),k.disabled=t(m)<=1||t(c),x.disabled=t(m)>=(t(a)?.pagination.pages||0)||t(c)},[()=>Math.min((t(a)?.pagination.page||1)*(t(a)?.pagination.per_page||0),t(a)?.pagination.total||0)],gt),N("click",k,()=>B(t(m)-1)),N("click",x,()=>B(t(m)+1)),d($,u)};y(dt,$=>{t(a)&&$(ct)})}d(r,i)};y(O,r=>{t(b)&&!t(c)&&r(nt)})}var lt=v(O,2);{var vt=r=>{var i=Wt(),n=s(i),C=s(n);zt(C,{}),e(n),I(4),e(i),d(r,i)};y(lt,r=>{t(b)&&t(b).length===0&&!t(c)&&r(vt)})}e(E),d(F,E),mt()}export{se as default};
