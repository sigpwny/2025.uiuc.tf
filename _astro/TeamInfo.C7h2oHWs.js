import{l as at,p as Y,i as tt,a as g}from"./props.Cnc7M2bm.js";import{o as nt}from"./index-client.qxHWBHhE.js";import{o as st,t as M,b as d,p as ot,s as _,l as z,a as et,e as v,d as rt,m as L,g as a,i as n,f as ca,h as c,r as t,aj as Ca,x as O,c as ct,j as it}from"./template.BGKbqTa9.js";import{s as x}from"./render.92hFe8tD.js";import{e as ia,i as la}from"./each.C28cXzkQ.js";import{b as lt,c as dt,a as vt}from"./attributes.BncxncTT.js";import{e as ut}from"./utils.D9RhwMV2.js";import{s as E,u as da}from"./ctfd.svelte.CqsomuiX.js";import mt from"./Timestamp.DhBJlai7.js";import{P as va}from"./PixelarticonsAlert.CNJoCIHu.js";import{P as Ta}from"./PixelarticonsZap.BL3WYaLL.js";import{a as pt,P as ft}from"./PixelarticonsFlag.CyhA6Uz-.js";import{P as gt}from"./PixelarticonsTrophy.DgTKQV-n.js";import{P as _t}from"./PixelarticonsExternalLink.D30IX11u.js";import{S as ua}from"./SvgSpinners270Ring.DBi1DYLx.js";const xt="Afghanistan",ht="Åland Islands",bt="Albania",St="Algeria",yt="American Samoa",Mt="Andorra",Ct="Angola",Tt="Anguilla",wt="Antarctica",It="Antigua & Barbuda",Pt="Argentina",At="Armenia",Gt="Aruba",Bt="Ascension Island",Nt="Australia",Lt="Austria",Et="Azerbaijan",Ut="Bahamas",Kt="Bahrain",Rt="Bangladesh",kt="Barbados",Ft="Belarus",Ht="Belgium",Dt="Belize",Vt="Benin",zt="Bermuda",Ot="Bhutan",Zt="Bolivia",Wt="Bosnia & Herzegovina",Jt="Botswana",Yt="Brazil",jt="British Indian Ocean Territory",Qt="British Virgin Islands",qt="Brunei",Xt="Bulgaria",$t="Burkina Faso",an="Burundi",tn="Cambodia",nn="Cameroon",sn="Canada",on="Canary Islands",en="Cape Verde",rn="Caribbean Netherlands",cn="Cayman Islands",ln="Central African Republic",dn="Ceuta & Melilla",vn="Chad",un="Chile",mn="China",pn="Christmas Island",fn="CocosKeeling:Islands",gn="Colombia",_n="Comoros",xn="Congo - Brazzaville",hn="Congo - Kinshasa",bn="Cook Islands",Sn="Costa Rica",yn="Côte d’Ivoire",Mn="Croatia",Cn="Cuba",Tn="Curaçao",wn="Cyprus",In="Czechia",Pn="Denmark",An="Diego Garcia",Gn="Djibouti",Bn="Dominica",Nn="Dominican Republic",Ln="Ecuador",En="Egypt",Un="El Salvador",Kn="Equatorial Guinea",Rn="Eritrea",kn="Estonia",Fn="Ethiopia",Hn="Eurozone",Dn="Falkland Islands",Vn="Faroe Islands",zn="Fiji",On="Finland",Zn="France",Wn="French Guiana",Jn="French Polynesia",Yn="French Southern Territories",jn="Gabon",Qn="Gambia",qn="Georgia",Xn="Germany",$n="Ghana",as="Gibraltar",ts="Greece",ns="Greenland",ss="Grenada",os="Guadeloupe",es="Guam",rs="Guatemala",cs="Guernsey",is="Guinea",ls="Guinea-Bissau",ds="Guyana",vs="Haiti",us="Honduras",ms="Hong Kong SAR China",ps="Hungary",fs="Iceland",gs="India",_s="Indonesia",xs="Iran",hs="Iraq",bs="Ireland",Ss="Isle of Man",ys="Israel",Ms="Italy",Cs="Jamaica",Ts="Japan",ws="Jersey",Is="Jordan",Ps="Kazakhstan",As="Kenya",Gs="Kiribati",Bs="Kosovo",Ns="Kuwait",Ls="Kyrgyzstan",Es="Laos",Us="Latvia",Ks="Lebanon",Rs="Lesotho",ks="Liberia",Fs="Libya",Hs="Liechtenstein",Ds="Lithuania",Vs="Luxembourg",zs="Macau SAR China",Os="Macedonia",Zs="Madagascar",Ws="Malawi",Js="Malaysia",Ys="Maldives",js="Mali",Qs="Malta",qs="Marshall Islands",Xs="Martinique",$s="Mauritania",ao="Mauritius",to="Mayotte",no="Mexico",so="Micronesia",oo="Moldova",eo="Monaco",ro="Mongolia",co="Montenegro",io="Montserrat",lo="Morocco",vo="Mozambique",uo="Myanmar (Burma)",mo="Namibia",po="Nauru",fo="Nepal",go="Netherlands",_o="New Caledonia",xo="New Zealand",ho="Nicaragua",bo="Niger",So="Nigeria",yo="Niue",Mo="Norfolk Island",Co="North Korea",To="Northern Mariana Islands",wo="Norway",Io="Oman",Po="Pakistan",Ao="Palau",Go="Palestinian Territories",Bo="Panama",No="Papua New Guinea",Lo="Paraguay",Eo="Peru",Uo="Philippines",Ko="Pitcairn Islands",Ro="Poland",ko="Portugal",Fo="Puerto Rico",Ho="Qatar",Do="Réunion",Vo="Romania",zo="Russia",Oo="Rwanda",Zo="Samoa",Wo="San Marino",Jo="São Tomé & Príncipe",Yo="Saudi Arabia",jo="Senegal",Qo="Serbia",qo="Seychelles",Xo="Sierra Leone",$o="Singapore",ae="Sint Maarten",te="Slovakia",ne="Slovenia",se="Solomon Islands",oe="Somalia",ee="South Africa",re="South Georgia & South Sandwich Islands",ce="South Korea",ie="South Sudan",le="Spain",de="Sri Lanka",ve="St. Barthélemy",ue="St. Helena",me="St. Kitts & Nevis",pe="St. Lucia",fe="St. Martin",ge="St. Pierre & Miquelon",_e="St. Vincent & Grenadines",xe="Sudan",he="Suriname",be="Svalbard & Jan Mayen",Se="Swaziland",ye="Sweden",Me="Switzerland",Ce="Syria",Te="Taiwan",we="Tajikistan",Ie="Tanzania",Pe="Thailand",Ae="Timor-Leste",Ge="Togo",Be="Tokelau",Ne="Tonga",Le="Trinidad & Tobago",Ee="Tristan da Cunha",Ue="Tunisia",Ke="Turkey",Re="Turkmenistan",ke="Turks & Caicos Islands",Fe="Tuvalu",He="U.S. Outlying Islands",De="U.S. Virgin Islands",Ve="Uganda",ze="Ukraine",Oe="United Arab Emirates",Ze="United Kingdom",We="United States",Je="Uruguay",Ye="Uzbekistan",je="Vanuatu",Qe="Vatican City",qe="Venezuela",Xe="Vietnam",$e="Wallis & Futuna",ar="Western Sahara",tr="Yemen",nr="Zambia",sr="Zimbabwe",or={AF:xt,AX:ht,AL:bt,DZ:St,AS:yt,AD:Mt,AO:Ct,AI:Tt,AQ:wt,AG:It,AR:Pt,AM:At,AW:Gt,AC:Bt,AU:Nt,AT:Lt,AZ:Et,BS:Ut,BH:Kt,BD:Rt,BB:kt,BY:Ft,BE:Ht,BZ:Dt,BJ:Vt,BM:zt,BT:Ot,BO:Zt,BA:Wt,BW:Jt,BR:Yt,IO:jt,VG:Qt,BN:qt,BG:Xt,BF:$t,BI:an,KH:tn,CM:nn,CA:sn,IC:on,CV:en,BQ:rn,KY:cn,CF:ln,EA:dn,TD:vn,CL:un,CN:mn,CX:pn,CC:fn,CO:gn,KM:_n,CG:xn,CD:hn,CK:bn,CR:Sn,CI:yn,HR:Mn,CU:Cn,CW:Tn,CY:wn,CZ:In,DK:Pn,DG:An,DJ:Gn,DM:Bn,DO:Nn,EC:Ln,EG:En,SV:Un,GQ:Kn,ER:Rn,EE:kn,ET:Fn,EZ:Hn,FK:Dn,FO:Vn,FJ:zn,FI:On,FR:Zn,GF:Wn,PF:Jn,TF:Yn,GA:jn,GM:Qn,GE:qn,DE:Xn,GH:$n,GI:as,GR:ts,GL:ns,GD:ss,GP:os,GU:es,GT:rs,GG:cs,GN:is,GW:ls,GY:ds,HT:vs,HN:us,HK:ms,HU:ps,IS:fs,IN:gs,ID:_s,IR:xs,IQ:hs,IE:bs,IM:Ss,IL:ys,IT:Ms,JM:Cs,JP:Ts,JE:ws,JO:Is,KZ:Ps,KE:As,KI:Gs,XK:Bs,KW:Ns,KG:Ls,LA:Es,LV:Us,LB:Ks,LS:Rs,LR:ks,LY:Fs,LI:Hs,LT:Ds,LU:Vs,MO:zs,MK:Os,MG:Zs,MW:Ws,MY:Js,MV:Ys,ML:js,MT:Qs,MH:qs,MQ:Xs,MR:$s,MU:ao,YT:to,MX:no,FM:so,MD:oo,MC:eo,MN:ro,ME:co,MS:io,MA:lo,MZ:vo,MM:uo,NA:mo,NR:po,NP:fo,NL:go,NC:_o,NZ:xo,NI:ho,NE:bo,NG:So,NU:yo,NF:Mo,KP:Co,MP:To,NO:wo,OM:Io,PK:Po,PW:Ao,PS:Go,PA:Bo,PG:No,PY:Lo,PE:Eo,PH:Uo,PN:Ko,PL:Ro,PT:ko,PR:Fo,QA:Ho,RE:Do,RO:Vo,RU:zo,RW:Oo,WS:Zo,SM:Wo,ST:Jo,SA:Yo,SN:jo,RS:Qo,SC:qo,SL:Xo,SG:$o,SX:ae,SK:te,SI:ne,SB:se,SO:oe,ZA:ee,GS:re,KR:ce,SS:ie,ES:le,LK:de,BL:ve,SH:ue,KN:me,LC:pe,MF:fe,PM:ge,VC:_e,SD:xe,SR:he,SJ:be,SZ:Se,SE:ye,CH:Me,SY:Ce,TW:Te,TJ:we,TZ:Ie,TH:Pe,TL:Ae,TG:Ge,TK:Be,TO:Ne,TT:Le,TA:Ee,TN:Ue,TR:Ke,TM:Re,TC:ke,TV:Fe,UM:He,VI:De,UG:Ve,UA:ze,AE:Oe,GB:Ze,US:We,UY:Je,UZ:Ye,VU:je,VA:Qe,VE:qe,VN:Xe,WF:$e,EH:ar,YE:tr,ZM:nr,ZW:sr};var er=st('<svg><path fill="currentColor" d="M4 6h7v2H4v8h7v2H2V6zm16 0h-7v2h7v8h-7v2h9V6zm-3 5H7v2h10z"></path></svg>');function rr(j,P){const C=at(P,["children","$$slots","$$events","$$legacy"]);var y=er();let A;M(()=>A=lt(y,A,{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",...C})),d(j,y)}var cr=v('<div class="bg-red-700 p-4"><div class="flex flex-row gap-2 items-center text-sm text-white"><!> <span> </span></div></div> <button class="mt-4 px-4 py-2 bg-white text-surface-000 hover:opacity-50 cursor-pointer font-mono font-bold text-sm uppercase">Retry</button>',1),ir=v('<div class="flex items-center gap-4 py-8"><!> <span>Loading team information...</span></div>'),lr=v('<p class="opacity-70 text-2xl"> </p>'),dr=v('<a target="_blank" rel="noopener noreferrer" class="inline-flex items-center gap-2 px-3 py-1 bg-white text-surface-000 hover:opacity-50 cursor-pointer select-none font-mono font-bold text-sm uppercase"><!> <span>Website</span> <!></a>'),vr=v('<span class="font-mono flex flex-row items-center select-none"><span class="bg-surface-200/50 px-2 py-1 text-sm"> </span> <span class="bg-surface-200 px-2 py-1 text-sm"> </span></span>'),ur=v('<span class="flex flex-row items-center gap-2"><!> </span>'),mr=v('<span class="flex flex-row items-center gap-2"><!> </span>'),pr=v('<div class="bg-surface-150/50 px-4 py-2 font-mono text-xl max-w-fit"><!> <!></div>'),fr=v('<div class="bg-surface-100/50 backdrop-blur-md p-4"><div class="flex items-center gap-4 py-4"><!> <span>Loading members...</span></div></div>'),gr=v('<span class="text-xs opacity-70 select-none">Captain</span>'),_r=v('<div class="flex flex-row items-center justify-between gap-2 px-3 py-2 bg-surface-200/50 hover:bg-surface-300 transition-colors"><span class="flex flex-row items-center gap-4"><span class="font-medium font-mono"> </span> <!></span> <span class="flex flex-row items-center gap-2 min-w-[10ch]"><!> </span></div>'),xr=v('<div class="flex flex-col gap-2"></div>'),hr=v('<div class="bg-surface-150/50 flex flex-col items-center gap-2 py-8 opacity-70"><!> <p>No crew members</p></div>'),br=v('<div class="bg-surface-100 p-4"><div class="flex items-center gap-4 py-8"><!> <span>Loading solved challenges...</span></div></div>'),Sr=v('<div class="flex items-center justify-between p-3 bg-surface-200 hover:bg-surface-300 transition-colors"><div><div class="font-medium font-mono"> </div> <div class="text-sm opacity-70"><!></div></div> <div class="font-bold font-mono"> </div></div>'),yr=v('<div class="mb-4"><h4 class="font-display-mono font-bold text-lg uppercase mb-2 flex items-center gap-2"><div class="w-3 h-3 flex-shrink-0"></div> </h4> <div class="bg-surface-100 p-4"><div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3"></div></div></div>'),Mr=v('<div class="bg-surface-150/50 flex flex-col items-center gap-2 py-8 opacity-70"><!> <p>No solved challenges</p></div>'),Cr=v('<div class="flex flex-col md:flex-row gap-4 md:items-center justify-between"><div class="flex flex-col"><div class="flex flex-col mb-2"><p class="font-display-mono font-bold text-3xl"> </p> <!></div> <div class="flex flex-col sm:flex-row gap-4 items-start sm:items-center"><!> <!></div></div> <!></div> <div><h3 class="font-display-mono font-bold text-xl uppercase mb-3 flex items-center gap-2"><!> </h3> <!></div> <div><h3 class="font-display-mono font-bold text-xl uppercase mb-3 flex items-center gap-2"><!> </h3> <!></div>',1),Tr=v('<div class="font-mono flex flex-col gap-6"><!></div>');function Dr(j,P){ot(P,!1);const C=L(),y=L(),A=L(),ma=L();let Q=Y(P,"teamId",8,null),wa=Y(P,"publicOnly",8,!1),pa=Y(P,"lastUpdated",8,null),fa=L(!0),u=L(null),G=L(null),U=Y(P,"teamMembers",12,null);function Ia(){if(typeof window>"u")return null;const e=new URLSearchParams(window.location.search).get("team_id");if(e){const i=parseInt(e,10);return isNaN(i)?null:i}return null}function Pa(r){_(u,null),(r!==null?E.ctfd.teams.getTeamPublic(r):E.ctfd.teams.getTeamPrivate()).then(i=>{i.ok&&i.data?_(u,i.data.data):_(C,"Failed to load team details")}).catch(i=>{if(r===null&&i.status===403)return da();i.status===404?_(C,"Team not found"):console.error("Error loading team details:",i)})}async function Aa(r){_(G,null);try{const e=r!==null?await E.ctfd.teams.getTeamPublicSolves(r.toString()):await E.ctfd.teams.getTeamPrivateSolves();if(e.ok&&e.data)_(G,e.data.data);else if(r===null&&e.status===403)await da();else throw new Error(`Unexpected response: ${e}`)}catch(e){console.warn("Could not load team solves:",e)}}async function Ga(r){U(null);try{const e=r!==null?await E.ctfd.teams.getTeamMembers(r.toString()):await E.ctfd.teams.getTeamPrivateMembers();if(e.ok&&e.data)U(e.data.data.sort((i,K)=>(K.score||0)-(i.score||0)));else if(r===null&&e.status===403)await da();else throw new Error(`Unexpected response: ${e}`)}catch(e){console.warn("Could not load team members:",e)}}async function ga(){if(_(C,""),wa()&&a(y)===null){_(C,"No Team ID provided!");return}if(E.isLoggedIn===!1&&a(y)===null){_(C,"You must be logged in to view team information");return}Promise.all([Pa(a(y)),Aa(a(y)),Ga(a(y))])}nt(()=>{_(fa,!1)}),z(()=>{},()=>{_(C,"")}),z(()=>Ca(Q()),()=>{_(y,Q()!==null?Q():Ia())}),z(()=>a(u),()=>{_(A,a(u)?.score)}),z(()=>(a(y),Ca(pa())),()=>{(a(y)||pa())&&ga()}),z(()=>a(G),()=>{_(ma,a(G)?.reduce((r,e)=>{const i=e.challenge?.category||"Unknown";return r[i]||(r[i]=[]),r[i].push(e),r},{})||{})}),et(),tt();var q=Tr(),Ba=n(q);{var Na=r=>{var e=cr(),i=ca(e),K=n(i),w=n(K);va(w,{class:"flex shrink-0"});var I=c(w,2),B=n(I,!0);t(I),t(K),t(i);var k=c(i,2);M(()=>x(B,a(C))),ut("click",k,ga),d(r,e)},La=(r,e)=>{{var i=w=>{var I=ir(),B=n(I);ua(B,{}),O(2),t(I),d(w,I)},K=w=>{var I=Cr(),B=ca(I),k=n(B),X=n(k),$=n(X),Ea=n($,!0);t($);var Ua=c($,2);{var Ka=s=>{var o=lr(),l=n(o,!0);t(o),M(()=>x(l,a(u).affiliation)),d(s,o)};g(Ua,s=>{a(u).affiliation&&s(Ka)})}t(X);var _a=c(X,2),xa=n(_a);{var Ra=s=>{var o=dr(),l=n(o);rr(l,{});var h=c(l,4);_t(h,{}),t(o),M(()=>dt(o,"href",a(u).website)),d(s,o)};g(xa,s=>{a(u).website&&s(Ra)})}var ka=c(xa,2);{var Fa=s=>{var o=vr(),l=n(o),h=n(l,!0);t(l);var m=c(l,2),p=n(m,!0);t(m),t(o),M(()=>{x(h,a(u).country),x(p,or[a(u).country]||"Unknown Country")}),d(s,o)};g(ka,s=>{a(u).country&&s(Fa)})}t(_a),t(k);var Ha=c(k,2);{var Da=s=>{var o=pr(),l=n(o);{var h=f=>{var b=ur(),S=n(b);gt(S,{});var T=c(S);t(b),M(()=>x(T,` ${a(u).place??""} place`)),d(f,b)};g(l,f=>{a(u).place&&f(h)})}var m=c(l,2);{var p=f=>{var b=mr(),S=n(b);Ta(S,{});var T=c(S);t(b),M(()=>x(T,` ${a(A)??""} pts`)),d(f,b)};g(m,f=>{a(A)&&f(p)})}t(o),d(s,o)};g(Ha,s=>{a(A)&&a(u).place&&s(Da)})}t(B);var aa=c(B,2),ta=n(aa),ha=n(ta);pt(ha,{});var Va=c(ha);t(ta);var za=c(ta,2);{var Oa=s=>{var o=fr(),l=n(o),h=n(l);ua(h,{}),O(2),t(l),t(o),d(s,o)},Za=(s,o)=>{{var l=m=>{var p=xr();ia(p,5,U,la,(f,b)=>{var S=_r(),T=n(S),F=n(T),H=n(F,!0);t(F);var D=c(F,2);{var Z=N=>{var R=gr();d(N,R)};g(D,N=>{a(u)&&a(b).id===a(u).captain_id&&N(Z)})}t(T);var W=c(T,2),V=n(W);Ta(V,{});var J=c(V);t(W),t(S),M(()=>{x(H,a(b).name||"Unknown"),x(J,` ${a(b).score??""}`)}),d(f,S)}),t(p),d(m,p)},h=m=>{var p=hr(),f=n(p);va(f,{}),O(2),t(p),d(m,p)};g(s,m=>{U().length>0?m(l):m(h,!1)},o)}};g(za,s=>{U()===null?s(Oa):s(Za,!1)})}t(aa);var ba=c(aa,2),na=n(ba),Sa=n(na);ft(Sa,{});var Wa=c(Sa);t(na);var Ja=c(na,2);{var Ya=s=>{var o=br(),l=n(o),h=n(l);ua(h,{}),O(2),t(l),t(o),d(s,o)},ja=(s,o)=>{{var l=m=>{var p=ct(),f=ca(p);ia(f,1,()=>Object.entries(a(ma)),la,(b,S)=>{let T=()=>a(S)[0],F=()=>a(S)[1];var H=yr(),D=n(H),Z=n(D),W=c(Z);t(D);var V=c(D,2),J=n(V);ia(J,5,F,la,(N,R)=>{var sa=Sr(),oa=n(sa),ea=n(oa),Qa=n(ea,!0);t(ea);var ya=c(ea,2),qa=n(ya);{var Xa=ra=>{mt(ra,{get date(){return a(R).date}})};g(qa,ra=>{a(R).date&&ra(Xa)})}t(ya),t(oa);var Ma=c(oa,2),$a=n(Ma);t(Ma),t(sa),M(()=>{x(Qa,a(R).challenge?.name||"Unknown"),x($a,`${(a(R).challenge?.value||0)??""} pts`)}),d(N,sa)}),t(J),t(V),t(H),M(N=>{vt(Z,`background-color: var(--color-category-${N??""})`),x(W,` ${T()??""}`)},[()=>T().toLowerCase()],it),d(b,H)}),d(m,p)},h=m=>{var p=Mr(),f=n(p);va(f,{}),O(2),t(p),d(m,p)};g(s,m=>{a(G).length>0?m(l):m(h,!1)},o)}};g(Ja,s=>{a(G)===null?s(Ya):s(ja,!1)})}t(ba),M(()=>{x(Ea,a(u).name),x(Va,` Members (${(U()?.length||0)??""})`),x(Wa,` Completed Missions (${(a(G)?.length||0)??""})`)}),d(w,I)};g(r,w=>{a(u)===null||a(fa)?w(i):w(K,!1)},e)}};g(Ba,r=>{a(C)!==""?r(Na):r(La,!1)})}t(q),d(j,q),rt()}export{Dr as T,or as c};
